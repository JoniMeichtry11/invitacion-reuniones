<h1>Asistencia a las reuniones</h1>

<form [formGroup]="attendanceForm" (ngSubmit)="downloadPDF()">
  <div>
    <label for="congregationName">Nombre de la congregaci贸n <span class="required">*</span>:</label>
    <input type="text" id="congregationName" formControlName="congregationName" placeholder="Ingrese el nombre de la congregaci贸n" required>
  </div>

  <div>
    <label for="month">Mes <span class="required">*</span>:</label>
    <input type="text" id="month" formControlName="month" placeholder="Ingrese el mes (ej: Enero 2026)" required>
  </div>

  <h2>Asistencia por semana</h2>
  <div class="table-container">
    <table>
      <thead>
        <tr>
          <th>Semana</th>
          <th>Reuni贸n de entre semana</th>
          <th>Reuni贸n del fin de semana</th>
        </tr>
      </thead>
      <tbody formGroupName="weeks">
        @for (week of ['week1', 'week2', 'week3', 'week4', 'week5']; track week; let i = $index) {
          <tr [formGroupName]="week">
            <td>{{ i + 1 }}</td>
            <td>
              <input type="number" formControlName="midweek" placeholder="Midweek" min="0">
            </td>
            <td>
              <input type="number" formControlName="weekend" placeholder="Weekend" min="0">
            </td>
          </tr>
        }
      </tbody>
    </table>
  </div>

  <h2>Totales</h2>
  <div formGroupName="totals">
    <div>
      <label>Total entre semana:</label>
      <input type="number" formControlName="midweek" readonly>
    </div>
    <div>
      <label>Total fin de semana:</label>
      <input type="number" formControlName="weekend" readonly>
    </div>
  </div>

  <h2>Promedios</h2>
  <div formGroupName="averages">
    <div>
      <label>Promedio entre semana:</label>
      <input type="number" formControlName="midweek" readonly>
    </div>
    <div>
      <label>Promedio fin de semana:</label>
      <input type="number" formControlName="weekend" readonly>
    </div>
  </div>

  <button type="submit">Compartir PDF</button>
</form>
